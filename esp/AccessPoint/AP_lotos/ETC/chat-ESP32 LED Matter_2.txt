### USER
—É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–º –≤–∫–ª –≤—ã–∫–ª esp32-c3 espidf matter —É–º–Ω—ã–π –¥–æ–º —è–Ω–¥–µ–∫—Å

### ASSISTANT
–ö–æ–Ω–µ—á–Ω–æ! –Ø –ø–æ–Ω—è–ª –≤–∞—à –∑–∞–ø—Ä–æ—Å: –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–º (–≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å) –Ω–∞ –ø–ª–∞—Ç–µ ESP32-C3 —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ ESP-IDF, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—è —ç—Ç–æ –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª Matter –¥–ª—è —É–º–Ω–æ–≥–æ –¥–æ–º–∞, –∏, –≤–µ—Ä–æ—è—Ç–Ω–æ, –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ –Ø–Ω–¥–µ–∫—Å–∞ (Yandex Smart Home –∏–ª–∏ –ê–ª–∏—Å–µ). –≠—Ç–æ –≤–ø–æ–ª–Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ–º–æ, —Ç–∞–∫ –∫–∞–∫ ESP32-C3 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Matter —á–µ—Ä–µ–∑ ESP-IDF, –∞ –Ø–Ω–¥–µ–∫—Å –Ω–∞—á–∞–ª –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å Matter-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–≤–æ–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ.

–Ø –¥–∞–º –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –Ω–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ. –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞ C –∏ —Ä–∞–±–æ—Ç–µ —Å ESP-IDF. –ï—Å–ª–∏ –Ω–µ—Ç, –Ω–∞—á–Ω–∏—Ç–µ —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Espressif. **–í–∞–∂–Ω–æ:** –≠—Ç–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —Å–ª–µ–¥—É–µ—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏—è–º –∏ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º.

### 1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   - **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ESP-IDF**: –°–∫–∞—á–∞–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ ESP-IDF –≤–µ—Ä—Å–∏–∏ 5.0 –∏–ª–∏ –≤—ã—à–µ (Matter –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å 4.4, –Ω–æ –ª—É—á—à–µ –ø–æ—Å–ª–µ–¥–Ω—è—è). –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: [docs.espressif.com/projects/esp-idf](https://docs.espressif.com/projects/esp-idf/en/latest/esp32c3/get-started/index.html).
   - **Matter SDK**: ESP-IDF –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç Matter. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–¥–º–æ–¥—É–ª–∏: `git submodule update --init --recursive` –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ.
   - **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3, CMake, Ninja, –∏ –¥—Ä–∞–π–≤–µ—Ä—ã –¥–ª—è ESP32-C3 (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `esptool`).
   - **–ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è —á–∞—Å—Ç—å**: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Å–≤–µ—Ç–æ–¥–∏–æ–¥ –∫ –ø–∏–Ω—É GPIO –Ω–∞ ESP32-C3 (–Ω–∞–ø—Ä–∏–º–µ—Ä, GPIO 8). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∑–∏—Å—Ç–æ—Ä 220 –û–º –¥–ª—è –∑–∞—â–∏—Ç—ã.

### 2. **–ë–∞–∑–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–º –≤ ESP-IDF**
   –ü–µ—Ä–µ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Matter —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ç–µ—Å—Ç–∞ LED.
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç: `idf.py create-project led-control`.
   - –í —Ñ–∞–π–ª–µ `main.c` (–≤ –ø–∞–ø–∫–µ main):
     ```c
     #include <stdio.h>
     #include "freertos/FreeRTOS.h"
     #include "freertos/task.h"
     #include "driver/gpio.h"

     #define LED_PIN GPIO_NUM_8  // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –ø–∏–Ω

     void app_main(void) {
         gpio_set_direction(LED_PIN, GPIO_MODE_OUTPUT);
         while (1) {
             gpio_set_level(LED_PIN, 1);  // –í–∫–ª
             vTaskDelay(1000 / portTICK_PERIOD_MS);
             gpio_set_level(LED_PIN, 0);  // –í—ã–∫–ª
             vTaskDelay(1000 / portTICK_PERIOD_MS);
         }
     }
     ```
   - –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ: `idf.py build flash monitor`.
   - –≠—Ç–æ –º–∏–≥–∞–µ—Ç LED. –¢–µ–ø–µ—Ä—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º Matter.

### 3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Matter –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è LED**
   Matter ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è —É–º–Ω–æ–≥–æ –¥–æ–º–∞ (–æ—Ç Connectivity Standards Alliance). ESP-IDF –∏–º–µ–µ—Ç –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è Matter.
   - **–°–∫–∞—á–∞–π—Ç–µ –ø—Ä–∏–º–µ—Ä**: –í ESP-IDF –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã Matter –≤ `examples/matter`. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Espressif Matter: [github.com/espressif/esp-matter](https://github.com/espressif/esp-matter).
   - –í—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω –¥–ª—è "On/Off Light" (—ç—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è LED: —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ç–∏–ø–∞ "—Å–≤–µ—Ç" —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –≤–∫–ª/–≤—ã–∫–ª).
     - –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞ `esp-matter/examples/light`.
     - –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—á–µ—Ä–µ–∑ `idf.py menuconfig`):
       - –í–∫–ª—é—á–∏—Ç–µ Matter: `Component config > ESP Matter > Enable Matter`.
       - –£–∫–∞–∂–∏—Ç–µ —á–∏–ø: ESP32-C3.
       - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Wi-Fi –∏–ª–∏ Thread (Matter —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö IP, —á–∞—Å—Ç–æ —Å Wi-Fi –¥–ª—è ESP32-C3).
     - –í –∫–æ–¥–µ –ø—Ä–∏–º–µ—Ä–∞ (–æ–±—ã—á–Ω–æ –≤ `app_driver.c` –∏–ª–∏ –ø–æ–¥–æ–±–Ω–æ–º):
       - –î–æ–±–∞–≤—å—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GPIO –¥–ª—è LED:
         ```c
         // –í —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ Matter (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ cluster callbacks)
         void app_driver_handle_onoff_command(bool on) {
             gpio_set_level(LED_PIN, on ? 1 : 0);
         }
         ```
       - Matter –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä "OnOff" –¥–ª—è —Ç–∞–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤. –ü—Ä–∏–º–µ—Ä —É–∂–µ –∏–º–µ–µ—Ç —ç—Ç–æ; –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫ –≤–∞—à–µ–º—É GPIO.

   - **–ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫**:
     - `idf.py build flash`.
     - –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ commissioning ( pairing ). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—Ä–æ–¥–µ CHIP Tool (–æ—Ç Matter) –¥–ª—è —Ç–µ—Å—Ç–∞.

### 4. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —É–º–Ω–æ–º—É –¥–æ–º—É –Ø–Ω–¥–µ–∫—Å–∞**
   –Ø–Ω–¥–µ–∫—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Matter —Å 2023 –≥–æ–¥–∞ —á–µ—Ä–µ–∑ –ê–ª–∏—Å—É –∏ Yandex Smart Home. –í–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ Matter (–¥–ª—è —Ç–µ—Å—Ç–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ).
   - **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Matter –≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ**:
     - –í –ø—Ä–æ–µ–∫—Ç–µ —É–∫–∞–∂–∏—Ç–µ Vendor ID –∏ Product ID (–¥–ª—è —Ç–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Matter).
     - –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å commissioning —á–µ—Ä–µ–∑ BLE –∏–ª–∏ Wi-Fi Setup.
   - **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –Ø–Ω–¥–µ–∫—Å—É**:
     - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–î–æ–º —Å –ê–ª–∏—Å–æ–π" (Yandex Smart Home) –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω.
     - –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–æ–±–∞–≤—å—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: –í—ã–±–µ—Ä–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ" > "Matter" (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ; –Ø–Ω–¥–µ–∫—Å –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç Matter —á–µ—Ä–µ–∑ Google Home –∏–ª–∏ Apple HomeKit, –Ω–æ –Ω–∞–ø—Ä—è–º—É—é —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç).
     - –°–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ commissioning (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ Matter –∏–ª–∏ —á–µ—Ä–µ–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç).
     - –ü–æ—Å–ª–µ pairing —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ—è–≤–∏—Ç—Å—è –≤ –Ø–Ω–¥–µ–∫—Å–µ –∫–∞–∫ "—É–º–Ω—ã–π —Å–≤–µ—Ç". –í—ã —Å–º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º –≥–æ–ª–æ—Å–æ–º (–ê–ª–∏—Å–∞, –≤–∫–ª—é—á–∏ —Å–≤–µ—Ç) –∏–ª–∏ —á–µ—Ä–µ–∑ app.
   - **–ï—Å–ª–∏ –ø—Ä—è–º–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–µ—Ç**: –Ø–Ω–¥–µ–∫—Å –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ –∏—Ö API. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Matter Bridge (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ Raspberry Pi) –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å Yandex API. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [yandex.ru/dev/smart-home](https://yandex.ru/dev/smart-home).

### 5. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã**
   - **–°–µ—Ç—å**: –î–ª—è Matter –Ω—É–∂–µ–Ω IPv6. ESP32-C3 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Wi-Fi; –¥–ª—è Thread (–ª—É—á—à–µ –¥–ª—è mesh) –Ω—É–∂–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —á–∏–ø, –Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –Ω–∞—á–Ω–∏—Ç–µ —Å Wi-Fi.
   - **–û—Ç–ª–∞–¥–∫–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `idf.py monitor` –¥–ª—è –ª–æ–≥–æ–≤. –î–ª—è Matter ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤—Ä–æ–¥–µ `chip-tool` (–∏–∑ Connected Home over IP repo).
   - **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ firmware. Matter –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
   - **–†–µ—Å—É—Ä—Å—ã**:
     - ESP-IDF Matter: [docs.espressif.com/projects/esp-matter](https://docs.espressif.com/projects/esp-matter/en/latest/).
     - Matter Spec: [csa-iot.org](https://csa-iot.org/all-solutions/matter/).
     - Yandex Smart Home: [yandex.ru/dev/smart-home/doc/concepts/matter.html](https://yandex.ru/dev/smart-home/doc/concepts/matter.html) (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å).
   - **–ü—Ä–æ–±–ª–µ–º—ã**: –ï—Å–ª–∏ ESP32-C3 –∏–º–µ–µ—Ç –º–∞–ª–æ RAM, –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∫–æ–¥. –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–æ–±–∞–≤—å—Ç–µ OTA-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

–ï—Å–ª–∏ –Ω—É–∂–Ω—ã —É—Ç–æ—á–Ω–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ –∏–ª–∏ –æ—à–∏–±–∫–∞), –æ–ø–∏—à–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ! –£–¥–∞—á–∏ —Å –ø—Ä–æ–µ–∫—Ç–æ–º! üöÄ

### USER
–∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å matter

### ASSISTANT
–ö–æ–Ω–µ—á–Ω–æ! –Ø –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é, —á—Ç–æ –≤–∞—à –≤–æ–ø—Ä–æ—Å –∫–∞—Å–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ Matter –≤ –ø—Ä–æ–µ–∫—Ç –Ω–∞ –±–∞–∑–µ ESP-IDF –¥–ª—è ESP32-C3 (–∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞). Matter ‚Äî —ç—Ç–æ –æ—Ç–∫—Ä—ã—Ç—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è —É–º–Ω–æ–≥–æ –¥–æ–º–∞, –∏ Espressif –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–æ—Ç–æ–≤—ã–π SDK –¥–ª—è –µ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∏—Ö —á–∏–ø–∞–º–∏. –ï—Å–ª–∏ –≤—ã –∏–º–µ–µ—Ç–µ –≤ –≤–∏–¥—É —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É—Å—Ç–∞–Ω–æ–≤–∫—É Matter –Ω–∞ —Å–º–∞—Ä—Ç—Ñ–æ–Ω –∏–ª–∏ –≤ –¥—Ä—É–≥—É—é —Å–∏—Å—Ç–µ–º—É), —É—Ç–æ—á–Ω–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞.

–Ø –¥–∞–º –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Matter –≤ ESP-IDF. –≠—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –±–∞–∑–æ–≤—ã—Ö –Ω–∞–≤—ã–∫–æ–≤ —Ä–∞–±–æ—Ç—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (Linux, macOS –∏–ª–∏ Windows —Å WSL). **–í–∞–∂–Ω–æ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.8+, Git –∏ –¥—Ä—É–≥–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ü—Ä–æ—Ü–µ—Å—Å –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Espressif.

### 1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ ESP-IDF**
   Matter –≤ Espressif —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö ESP-IDF (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è 5.1 –∏–ª–∏ –≤—ã—à–µ).
   - –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ESP-IDF:
     - –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `git clone -b v5.1 --recursive https://github.com/espressif/esp-idf.git`
     - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É: `cd esp-idf`
     - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: `./install.sh esp32c3` (–¥–ª—è ESP32-C3; –∏–ª–∏ `./install.sh all` –¥–ª—è –≤—Å–µ—Ö —á–∏–ø–æ–≤).
     - –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ: `. ./export.sh` (–¥–µ–ª–∞–π—Ç–µ —ç—Ç–æ –≤ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ).
   - –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏: [docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/](https://docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/).

### 2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ ESP-Matter SDK**
   Espressif –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è Matter.
   - –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ ESP-Matter:
     ```
     git clone --recursive https://github.com/espressif/esp-matter.git
     cd esp-matter
     ```
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
     ```
     ./install.sh
     ```
     –≠—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç Matter SDK (–æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ Connectedhomeip –æ—Ç CSA) –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–¥–º–æ–¥—É–ª–∏.
   - –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ: `. ./export.sh` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ ESP-IDF).

   **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –≤—ã —É–∂–µ –∏–º–µ–µ—Ç–µ ESP-IDF, ESP-Matter –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –Ω–∏–º. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç (ESP-Matter –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ESP-IDF –∫–∞–∫ –ø–æ–¥–º–æ–¥—É–ª—å).

### 3. **–°–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å Matter**
   - –í –ø–∞–ø–∫–µ `esp-matter` –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã (–≤ `examples/`).
     - –î–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ LED –∫–∞–∫ "On/Off Light") —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä: `cp -r examples/light my-light-project`
     - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç: `cd my-light-project`
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:
     - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä: `idf.py menuconfig`
       - –í –º–µ–Ω—é: `Component config > ESP Matter` ‚Äî –≤–∫–ª—é—á–∏—Ç–µ Matter (`Enable Matter`).
       - –£–∫–∞–∂–∏—Ç–µ —Ü–µ–ª–µ–≤–æ–π —á–∏–ø: `SDK tool configuration > Target chip > esp32c3`.
       - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Wi-Fi (SSID –∏ –ø–∞—Ä–æ–ª—å) –≤ `ESP Matter > Wi-Fi Configuration`.
       - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –≤—ã–π–¥–∏—Ç–µ.
   - –î–æ–±–∞–≤—å—Ç–µ –∫–æ–¥ –¥–ª—è LED (–∫–∞–∫ –≤ –º–æ—ë–º –ø—Ä–µ–¥—ã–¥—É—â–µ–º –æ—Ç–≤–µ—Ç–µ):
     - –í —Ñ–∞–π–ª–µ `app_driver.c` (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–º) –¥–æ–±–∞–≤—å—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GPIO:
       ```c
       #include "driver/gpio.h"
       #define LED_PIN GPIO_NUM_8  // –í–∞—à –ø–∏–Ω

       // –í –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
       gpio_set_direction(LED_PIN, GPIO_MODE_OUTPUT);

       // –í callback –¥–ª—è OnOff –∫–ª–∞—Å—Ç–µ—Ä–∞:
       void app_driver_handle_onoff_command(bool on) {
           gpio_set_level(LED_PIN, on ? 1 : 0);
       }
       ```
     - –ü—Ä–∏–º–µ—Ä —É–∂–µ –∏–º–µ–µ—Ç –±–∞–∑–æ–≤—É—é –ª–æ–≥–∏–∫—É –¥–ª—è "light" —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

### 4. **–°–±–æ—Ä–∫–∞, –ø—Ä–æ—à–∏–≤–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ: `idf.py build`
   - –ü—Ä–æ—à–µ–π—Ç–µ –Ω–∞ ESP32-C3: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –ø–ª–∞—Ç—É –ø–æ USB, –∑–∞—Ç–µ–º `idf.py -p /dev/ttyUSB0 flash` (–∑–∞–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –Ω–∞ –≤–∞—à; –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `ls /dev/tty*`).
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤: `idf.py monitor`
   - Commissioning (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ):
     - –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ pairing. –û–Ω–æ –≤—ã–¥–∞—Å—Ç QR-–∫–æ–¥ –≤ –ª–æ–≥–∞—Ö –∏–ª–∏ —á–µ—Ä–µ–∑ BLE.
     - –î–ª—è —Ç–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `chip-tool` (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å Matter SDK):
       - –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ chip-tool –∏–∑ `connectedhomeip` (–ø–æ–¥–º–æ–¥—É–ª—å –≤ esp-matter).
       - –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã: `./chip-tool pairing onnetwork <node-id> <setup-pin>`
     - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–±–∏–ª—å–Ω–æ–µ app: Google Home, Apple Home, –∏–ª–∏ Yandex (—Å–º. –Ω–∏–∂–µ).

### 5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ø–Ω–¥–µ–∫—Å (–£–º–Ω—ã–π –¥–æ–º)**
   - –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Matter —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –Ø–Ω–¥–µ–∫—Å—É, –µ—Å–ª–∏ –æ–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç.
     - –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ "–î–æ–º —Å –ê–ª–∏—Å–æ–π" (Yandex Smart Home): –î–æ–±–∞–≤—å—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ > –í—ã–±–µ—Ä–∏—Ç–µ Matter (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ).
     - –°–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ Matter commissioning).
     - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Matter Controller, —Ç–∞–∫–æ–π –∫–∞–∫ Home Assistant —Å Matter –ø–ª–∞–≥–∏–Ω–æ–º, –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å –Ø–Ω–¥–µ–∫—Å —á–µ—Ä–µ–∑ API.
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ø–Ω–¥–µ–∫—Å–∞ –ø–æ Matter: [yandex.ru/dev/smart-home/doc/concepts/matter.html](https://yandex.ru/dev/smart-home/doc/concepts/matter.html) (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è).

### 6. **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Å–æ–≤–µ—Ç—ã**
   - **–û—à–∏–±–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏**: –ï—Å–ª–∏ `./install.sh` –∂–∞–ª—É–µ—Ç—Å—è –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏—Ö –≤—Ä—É—á–Ω—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `pip install -r requirements.txt` –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è).
   - **–í–µ—Ä—Å–∏–∏**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ESP-IDF –∏ ESP-Matter —Å–æ–≤–º–µ—Å—Ç–∏–º—ã (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ README).
   - **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω—É–∂–Ω–æ —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≤ CSA (Connectivity Standards Alliance). –î–ª—è —Ç–µ—Å—Ç–æ–≤ ‚Äî –æ–∫.
   - **–†–µ—Å—É—Ä—Å—ã**:
     - –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫: [docs.espressif.com/projects/esp-matter/en/latest/](https://docs.espressif.com/projects/esp-matter/en/latest/).
     - GitHub: [github.com/espressif/esp-matter](https://github.com/espressif/esp-matter).
     - –§–æ—Ä—É–º—ã: Espressif forum –∏–ª–∏ Stack Overflow.
   - **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: Matter –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è, —Ç–∞–∫ —á—Ç–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏: `git pull --recurse-submodules`.

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –æ—à–∏–±–∫–∏ (—É–∫–∞–∂–∏—Ç–µ —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏) –∏–ª–∏ –Ω—É–∂–Ω—ã –¥–µ—Ç–∞–ª–∏ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —à–∞–≥—É, –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å! –£–¥–∞—á–∏ —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π Matter ‚Äî —ç—Ç–æ –∫—Ä—É—Ç–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è IoT. üòä

### USER
–∫–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å esp-idf

### ASSISTANT
–ö–æ–Ω–µ—á–Ω–æ! –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ESP-IDF (Espressif IoT Development Framework) –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–æ –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ Git. –Ø –æ–ø–∏—à—É –ø—Ä–æ—Ü–µ—Å—Å —à–∞–≥ –∑–∞ —à–∞–≥–æ–º. –≠—Ç–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ –¥–ª—è –≤–∞—à–µ–π —Ä–∞–±–æ—Ç—ã —Å ESP32-C3, Matter –∏ —É–º–Ω—ã–º –¥–æ–º–æ–º. **–í–∞–∂–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å API –∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —á—Ç–æ —Å–ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–µ–∫—Ç—ã. –†–µ–∫–æ–º–µ–Ω–¥—É—é —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–æ–ø–∏—é ESP-IDF –¥–ª—è –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ (–Ω–µ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ, –≥–¥–µ —É –≤–∞—Å —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ–µ–∫—Ç—ã).
- –î–ª—è Matter –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é –≤–µ—Ä—Å–∏—é ESP-IDF (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è v5.1 –∏–ª–∏ –≤—ã—à–µ; –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ esp-matter).
- –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ ESP-Matter, –æ–±–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ ESP-IDF.

–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Linux, macOS –∏–ª–∏ Windows (—Å WSL –∏–ª–∏ Git Bash). –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é, —á—Ç–æ —É –≤–∞—Å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Git –∏ Python.

### 1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é ESP-IDF**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å ESP-IDF: `cd path/to/esp-idf`
   - –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ: `. ./export.sh`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é: `idf.py --version` –∏–ª–∏ `git branch` (–ø–æ–∫–∞–∂–µ—Ç —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, `release/v5.1`).

### 2. **–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**
   –ï—Å—Ç—å –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–∞: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ –Ω–æ–≤–æ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∏–ª–∏ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (master).

   #### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É ESP-IDF: `cd path/to/esp-idf`
   - –û–±–Ω–æ–≤–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `git fetch --all --tags`
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –Ω—É–∂–Ω—É—é –≤–µ—Ä—Å–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, v5.2): `git checkout release/v5.2`
   - –û–±–Ω–æ–≤–∏—Ç–µ –ø–æ–¥–º–æ–¥—É–ª–∏: `git submodule update --init --recursive`
   - –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: `./install.sh` (–∏–ª–∏ `./install.sh esp32c3` –¥–ª—è –≤–∞—à–µ–≥–æ —á–∏–ø–∞).

   #### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ (master)
   - `cd path/to/esp-idf`
   - `git checkout master`
   - `git pull`
   - `git submodule update --init --recursive`
   - `./install.sh`

   –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É (—á—Ç–æ–±—ã –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å —Å—Ç–∞—Ä—É—é):
   - –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∑–∞–Ω–æ–≤–æ: `git clone -b release/v5.2 --recursive https://github.com/espressif/esp-idf.git esp-idf-v5.2`
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ: `cd esp-idf-v5.2`
   - `./install.sh`
   - –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ: `. ./export.sh`

### 3. **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**
   - –í –ø–∞–ø–∫–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏: `. ./export.sh` (—ç—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—É—Ç–∏ –≤ –≤–∞—à—É shell-—Å–µ—Å—Å–∏—é).
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `idf.py --version` ‚Äî –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é.
   - –ï—Å–ª–∏ —É –≤–∞—Å –ø—Ä–æ–µ–∫—Ç—ã, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏—Ö –≤ –Ω–æ–≤—É—é –ø–∞–ø–∫—É –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å: `idf.py build`.

### 4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è ESP-Matter**
   –ü–æ—Å–∫–æ–ª—å–∫—É –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å Matter:
   - –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ESP-IDF –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É esp-matter: `cd path/to/esp-matter`
   - –û–±–Ω–æ–≤–∏—Ç–µ: `git pull --recurse-submodules`
   - `./install.sh`
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏: –í README esp-matter —É–∫–∞–∑–∞–Ω—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏ ESP-IDF. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –æ–±–Ω–æ–≤–∏—Ç–µ –ø–æ–¥–º–æ–¥—É–ª—å ESP-IDF –≤–Ω—É—Ç—Ä–∏ esp-matter: `git submodule update --init third_party/esp-idf`.

### 5. **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è**
   - **–û—à–∏–±–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –ï—Å–ª–∏ `./install.sh` –∂–∞–ª—É–µ—Ç—Å—è, –æ–±–Ω–æ–≤–∏—Ç–µ Python –ø–∞–∫–µ—Ç—ã: `pip install --upgrade pip` –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.
   - **–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã Git**: –ï—Å–ª–∏ –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏—Ö (`git stash`) –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∫–æ–ø–∏—é.
   - **Windows-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Git Bash –∏–ª–∏ WSL; —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–æ–±–µ–ª–æ–≤.
   - **–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç—ã –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (breaking changes) –Ω–∞ [docs.espressif.com](https://docs.espressif.com/projects/esp-idf/en/latest/esp32/migration-guides/index.html). –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, API –¥—Ä–∞–π–≤–µ—Ä–æ–≤).
   - **–í–µ—Ä—Å–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**: –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –æ–±–Ω–æ–≤–∏—Ç–µ esptool: `pip install esptool --upgrade`.

### 6. **–†–µ—Å—É—Ä—Å—ã**
   - –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é: [docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/index.html#updating-esp-idf](https://docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/index.html#updating-esp-idf).
   - –†–µ–ª–∏–∑—ã: [github.com/espressif/esp-idf/releases](https://github.com/espressif/esp-idf/releases) ‚Äî –≤—ã–±–∏—Ä–∞–π—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–µ–ª–∏–∑.
   - –§–æ—Ä—É–º—ã: Espressif forum –∏–ª–∏ Reddit (r/esp32).

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –æ—à–∏–±–∫–∏ (—É–∫–∞–∂–∏—Ç–µ —Ç–µ–∫—Å—Ç), –∏–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏, –¥–∞–π—Ç–µ –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π! –£–¥–∞—á–∏ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º ‚Äî —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ –¥–ª—è Matter –∏ ESP32-C3. üöÄ

### USER
–¥–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ws2812 12led

### ASSISTANT
–ö–æ–Ω–µ—á–Ω–æ! –Ø –ø–æ–Ω—è–ª –≤–∞—à –∑–∞–ø—Ä–æ—Å: –≤—ã —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–Ω–æ–π LED-–ª–µ–Ω—Ç–æ–π WS2812 (NeoPixel) —Å 12 —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞–º–∏ –∫ –≤–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ ESP32-C3 —Å ESP-IDF –∏ Matter. –≠—Ç–æ —Ä–∞—Å—à–∏—Ä–∏—Ç –≤–∞—à "—É–º–Ω—ã–π —Å–≤–µ—Ç" –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ On/Off –¥–æ RGB-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Ü–≤–µ—Ç, —è—Ä–∫–æ—Å—Ç—å, –≤–∫–ª/–≤—ã–∫–ª). –í Matter –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–¥–æ–π–¥—ë—Ç —Ç–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ "Extended Color Light" (—Å –∫–ª–∞—Å—Ç–µ—Ä–∞–º–∏ OnOff, Level Control –∏ Color Control).

–Ø –¥–∞–º –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞ "light" –∏–∑ esp-matter. –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é, —á—Ç–æ —É –≤–∞—Å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ESP-IDF –∏ esp-matter (–∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤). –ï—Å–ª–∏ –Ω–µ—Ç, –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –Ω–∏–º. **–í–∞–∂–Ω–æ:** –≠—Ç–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –Ω–∏–∑–∫–æ–º –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–∏, —á—Ç–æ–±—ã –Ω–µ –ø–æ–≤—Ä–µ–¥–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

### 1. **–ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞**
   - **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ WS2812**:
     - WS2812 ‚Äî —ç—Ç–æ —Ü–µ–ø–æ—á–∫–∞ –∏–∑ 12 RGB-LED (–∫–∞–∂–¥—ã–π –¥–∏–æ–¥ –∏–º–µ–µ—Ç –∫—Ä–∞—Å–Ω—ã–π, –∑–µ–ª—ë–Ω—ã–π, —Å–∏–Ω–∏–π –∫–∞–Ω–∞–ª—ã).
     - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ:
       - Data In (DIN) –ª–µ–Ω—Ç—ã –∫ –ø–∏–Ω—É GPIO –Ω–∞ ESP32-C3 (–Ω–∞–ø—Ä–∏–º–µ—Ä, GPIO 8 ‚Äî –æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç RMT –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ç–∞–π–º–∏–Ω–≥–∞).
       - –ü–∏—Ç–∞–Ω–∏–µ: +5V –∏ GND –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (ESP32-C3 –¥–∞—ë—Ç 3.3V, –Ω–æ WS2812 —Ç—Ä–µ–±—É–µ—Ç 5V; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ level shifter –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ, –∏–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º –Ω–∞ 3.3V).
       - –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä 1000uF –Ω–∞ –ø–∏—Ç–∞–Ω–∏–µ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏.
     - –ù–µ –ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é –∫ ESP –±–µ–∑ —Ä–µ–∑–∏—Å—Ç–æ—Ä–∞ (330 –û–º –Ω–∞ data-–ª–∏–Ω–∏–∏ –¥–ª—è –∑–∞—â–∏—Ç—ã).
   - **–ü–∏—Ç–∞–Ω–∏–µ**: –î–ª—è 12 LED —Ö–≤–∞—Ç–∏—Ç 5V/1A, –Ω–æ —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —Ç–æ–∫ (–∫–∞–∂–¥—ã–π LED –¥–æ 60mA –Ω–∞ –ø–æ–ª–Ω–æ–π —è—Ä–∫–æ—Å—Ç–∏).

### 2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ ESP-IDF**
   - –ï—Å–ª–∏ —É –≤–∞—Å –ø—Ä–∏–º–µ—Ä "light" –∏–∑ esp-matter, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –µ–≥–æ –ø–∞–ø–∫—É: `cd path/to/my-light-project`.
   - –í `CMakeLists.txt` (–≤ –ø–∞–ø–∫–µ main) –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è LED-–¥—Ä–∞–π–≤–µ—Ä–∞:
     ```
     REQUIRES esp_matter driver led_strip
     ```
   - –í `menuconfig` (–∑–∞–ø—É—Å—Ç–∏—Ç–µ `idf.py menuconfig`):
     - –í–∫–ª—é—á–∏—Ç–µ RMT-–¥—Ä–∞–π–≤–µ—Ä: `Component config > Driver configurations > RMT > Enable RMT`.
     - –î–ª—è Matter: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω—ã –∫–ª–∞—Å—Ç–µ—Ä—ã Color Control –∏ Level Control (–≤ `ESP Matter > Supported Clusters`).

   –ï—Å–ª–∏ –≤–∞—à –ø—Ä–∏–º–µ—Ä ‚Äî –ø—Ä–æ—Å—Ç–æ–π On/Off, –∏–∑–º–µ–Ω–∏—Ç–µ —Ç–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –∫–æ–¥–µ –Ω–∞ "Extended Color Light" (Device Type ID: 0x010D). –í —Ñ–∞–π–ª–µ `app_main.c` –∏–ª–∏ `data_model.cpp` (–≤ esp-matter –ø—Ä–∏–º–µ—Ä–∞—Ö):
   ```c
   #include <esp_matter.h>
   // ...
   esp_matter::node::config_t node_config;
   node_config.device_type[0].type = esp_matter::device_type::EXTENDED_COLOR_LIGHT;  // 0x010D
   ```

### 3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è WS2812**
   ESP-IDF –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä `led_strip` –¥–ª—è WS2812 (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç RMT –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–∞).

   - –í —Ñ–∞–π–ª–µ `app_driver.c` (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π, –µ—Å–ª–∏ –Ω–µ—Ç; –¥–æ–±–∞–≤—å—Ç–µ –≤ CMakeLists):
     ```c
     #include <stdio.h>
     #include "driver/gpio.h"
     #include "driver/rmt_tx.h"
     #include "led_strip.h"
     #include "esp_log.h"
     #include "esp_matter.h"  // –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Matter

     static const char *TAG = "WS2812_Driver";

     #define LED_STRIP_GPIO GPIO_NUM_8  // –í–∞—à –ø–∏–Ω
     #define LED_STRIP_LENGTH 12       // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ LED
     #define LED_STRIP_BRIGHTNESS 255  // –ú–∞–∫—Å. —è—Ä–∫–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (0-255)

     static led_strip_handle_t led_strip;

     // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WS2812
     void init_ws2812(void) {
         led_strip_config_t strip_config = {
             .strip_gpio_num = LED_STRIP_GPIO,
             .led_pixel_format = LED_PIXEL_FORMAT_GRB,  // WS2812 –æ–±—ã—á–Ω–æ GRB
             .led_model = LED_MODEL_WS2812,
             .max_leds = LED_STRIP_LENGTH,
             .flags.invert_out = false,
         };

         led_strip_rmt_config_t rmt_config = {
             .clk_src = RMT_CLK_SRC_DEFAULT,
             .resolution_hz = 10 * 1000 * 1000,  // 10MHz
             .flags.with_dma = false,
         };

         ESP_ERROR_CHECK(led_strip_new_rmt_device(&strip_config, &rmt_config, &led_strip));
         led_strip_clear(led_strip);  // –í—ã–∫–ª—é—á–∏—Ç—å –≤—Å–µ LED –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
         ESP_LOGI(TAG, "WS2812 initialized");
     }

     // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ü–≤–µ—Ç–∞ (–¥–ª—è –≤—Å–µ—Ö 12 LED –æ–¥–∏–Ω–∞–∫–æ–≤–æ, –∏–ª–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ)
     void set_ws2812_color(uint8_t red, uint8_t green, uint8_t blue, uint8_t brightness) {
         uint8_t scaled_r = (red * brightness) / 255;
         uint8_t scaled_g = (green * brightness) / 255;
         uint8_t scaled_b = (blue * brightness) / 255;

         for (int i = 0; i < LED_STRIP_LENGTH; i++) {
             led_strip_set_pixel(led_strip, i, scaled_r, scaled_g, scaled_b);
         }
         led_strip_refresh(led_strip);
     }

     // –í—ã–∫–ª—é—á–µ–Ω–∏–µ
     void turn_off_ws2812(void) {
         led_strip_clear(led_strip);
     }
     ```

   - –í `app_main.c` –≤—ã–∑–æ–≤–∏—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é:
     ```c
     void app_main(void) {
         init_ws2812();
         // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ Matter
     }
     ```

### 4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Matter (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥)**
   Matter –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ callbacks. –í —Ñ–∞–π–ª–µ —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ Matter (–æ–±—ã—á–Ω–æ `app_driver.cpp` –∏–ª–∏ `cluster_callbacks.cpp` –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö esp-matter):
   - –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–ª—è OnOff, Level (—è—Ä–∫–æ—Å—Ç—å) –∏ Color Control (—Ü–≤–µ—Ç).
     ```c
     // Callback –¥–ª—è OnOff –∫–ª–∞—Å—Ç–µ—Ä–∞
     esp_err_t app_driver_onoff_handler(bool on) {
         if (on) {
             // –í–∫–ª —Å —Ç–µ–∫—É—â–∏–º —Ü–≤–µ—Ç–æ–º (–ø—Ä–∏–º–µ—Ä: –±–µ–ª—ã–π)
             set_ws2812_color(255, 255, 255, LED_STRIP_BRIGHTNESS);
         } else {
             turn_off_ws2812();
         }
         return ESP_OK;
     }

     // Callback –¥–ª—è Level Control (—è—Ä–∫–æ—Å—Ç—å, 0-255)
     esp_err_t app_driver_level_handler(uint8_t level) {
         // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —è—Ä–∫–æ—Å—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç–µ (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º —Ç–µ–∫—É—â–∏–π —Ü–≤–µ—Ç)
         // –ó–¥–µ—Å—å –¥–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏–∫—É –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Ü–≤–µ—Ç–∞
         set_ws2812_color(current_r, current_g, current_b, level);  // current_* ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ü–≤–µ—Ç–∞
         return ESP_OK;
     }

     // Callback –¥–ª—è Color Control (Hue/Saturation –∏–ª–∏ RGB)
     esp_err_t app_driver_color_handler(uint8_t hue, uint8_t saturation) {
         // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ HSV –≤ RGB (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏–ª–∏ –ø—Ä–æ—Å—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é)
         // –ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ (–¥–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é)
         uint8_t r = hue;  // –£–ø—Ä–æ—â—ë–Ω–Ω–æ; —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ HSV2RGB
         uint8_t g = saturation;
         uint8_t b = 255 - hue;
         set_ws2812_color(r, g, b, LED_STRIP_BRIGHTNESS);
         return ESP_OK;
     }

     // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ callbacks –≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Matter
     // –í esp-matter —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ esp_matter::cluster::on_off::set_callbacks() –∏ —Ç.–¥.
     ```
   - –î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä HSV/RGB (–≤ Matter —Ü–≤–µ—Ç —á–∞—Å—Ç–æ –≤ HSV). –ú–æ–∂–Ω–æ –≤–∑—è—Ç—å –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É.

### 5. **–°–±–æ—Ä–∫–∞, –ø—Ä–æ—à–∏–≤–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - `idf.py build flash monitor`
   - –í –ª–æ–≥–∞—Ö —É–≤–∏–¥–∏—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é WS2812.
   - Commission —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ Matter (—á–µ—Ä–µ–∑ chip-tool –∏–ª–∏ app).
   - –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ:
     - –í chip-tool: `chip-tool onoff on <node-id> 1` ‚Äî –≤–∫–ª.
     - –î–ª—è —Ü–≤–µ—Ç–∞: `chip-tool colorcontrol move-to-hue-and-saturation <hue> <sat> ...`
     - –í –Ø–Ω–¥–µ–∫—Å: –ü–æ—Å–ª–µ pairing –≤ "–î–æ–º —Å –ê–ª–∏—Å–æ–π" —É–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ü–≤–µ—Ç–æ–º/—è—Ä–∫–æ—Å—Ç—å—é –≥–æ–ª–æ—Å–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ê–ª–∏—Å–∞, —Å–¥–µ–ª–∞–π —Å–≤–µ—Ç –∫—Ä–∞—Å–Ω—ã–º").

### 6. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã**
   - **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ LED**: –í `set_ws2812_color` –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ü–≤–µ—Ç–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ LED (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ –∏–Ω–¥–µ–∫—Å—É).
   - **–ü–∞–º—è—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: ESP32-C3 –∏–º–µ–µ—Ç –º–∞–ª–æ RAM; –¥–ª—è 12 LED –æ–∫, –Ω–æ –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–π—Ç–µ.
   - **–û—à–∏–±–∫–∏**: –ï—Å–ª–∏ RMT –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∏–Ω (–Ω–µ –≤—Å–µ GPIO –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç RMT). –õ–æ–≥–∏: `ESP_LOGI` –ø–æ–º–æ–∂–µ—Ç.
   - **–†–∞—Å—à–∏—Ä–µ–Ω–∏—è**: –î–æ–±–∞–≤—å—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (–º–∏–≥–∞–Ω–∏–µ, –≥—Ä–∞–¥–∏–µ–Ω—Ç) –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.
   - **–†–µ—Å—É—Ä—Å—ã**: 
     - –î–æ–∫ ESP-IDF –ø–æ led_strip: [docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/peripherals/led_strip.html](https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/peripherals/led_strip.html).
     - Matter —Ü–≤–µ—Ç: –ò—â–∏—Ç–µ –≤ esp-matter –ø—Ä–∏–º–µ—Ä–∞—Ö "extended_color_light".

–ï—Å–ª–∏ –Ω—É–∂–Ω—ã —É—Ç–æ—á–Ω–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª–Ω—ã–π –∫–æ–¥ HSV2RGB –∏–ª–∏ –æ—à–∏–±–∫–∞), –æ–ø–∏—à–∏—Ç–µ! –£–¥–∞—á–∏ ‚Äî —Ç–µ–ø–µ—Ä—å –≤–∞—à —É–º–Ω—ã–π –¥–æ–º —Å—Ç–∞–Ω–µ—Ç —è—Ä—á–µ! üåàüöÄ

### USER
—á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è Thread (mesh) –∫–∞–∫–æ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —á–∏–ø
–∏–ª–∏ –¥—Ä—É–≥–æ–π esp32

### ASSISTANT
–ö–æ–Ω–µ—á–Ω–æ! –Ø –ø–æ–Ω—è–ª –≤–∞—à –≤–æ–ø—Ä–æ—Å: –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Thread (mesh-—Å–µ—Ç—å –Ω–∞ –±–∞–∑–µ IEEE 802.15.4, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Matter –¥–ª—è —ç–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π IoT-—Å–µ—Ç–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —É–º–Ω–æ–º –¥–æ–º–µ). Thread –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å mesh-—Å–µ—Ç—å —Å –Ω–∏–∑–∫–∏–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º —ç–Ω–µ—Ä–≥–∏–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–æ—É—Ç–∏–Ω–≥–æ–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π IPv6. –≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å ESP32-C3, Matter –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º LED (–≤–∫–ª—é—á–∞—è WS2812), –Ω–æ –µ—Å—Ç—å –Ω—é–∞–Ω—Å—ã.

**–í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç:** ESP32-C3 **–Ω–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —Ä–∞–¥–∏–æ 802.15.4** (–æ–Ω–æ –Ω—É–∂–Ω–æ –¥–ª—è Thread/Zigbee). –£ –Ω–µ–≥–æ —Ç–æ–ª—å–∫–æ Wi-Fi –∏ Bluetooth LE. –ü–æ—ç—Ç–æ–º—É –¥–ª—è Thread —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏–±–æ –¥—Ä—É–≥–æ–π —á–∏–ø Espressif —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π 802.15.4, –ª–∏–±–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —á–∏–ø (Radio Co-Processor, RCP) –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è. Matter –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–≤–µ—Ä—Ö Thread, –Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å Thread-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º.

–Ø —Ä–∞–∑–±–µ—Ä—É, —á—Ç–æ –Ω—É–∂–Ω–æ, –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —à–∞–≥–∏. –≠—Ç–æ –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Espressif (ESP-IDF –∏ esp-matter). –î–ª—è —Ç–µ—Å—Ç–æ–≤ –ø–æ–¥–æ–π–¥—ë—Ç, –Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –Ω—É–∂–Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è CSA (Connectivity Standards Alliance).

### 1. **–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è Thread –≤ –æ–±—â–µ–º**
   - **–†–∞–¥–∏–æ**: IEEE 802.15.4 (2.4 GHz) –¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è. Thread ‚Äî —ç—Ç–æ —Å—Ç–µ–∫ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –ø–æ–≤–µ—Ä—Ö –Ω–µ–≥–æ (mesh, IPv6, 6LoWPAN).
   - **–†–æ–ª–∏ –≤ —Å–µ—Ç–∏**:
     - **End Device**: –ü—Ä–æ—Å—Ç–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–≤–∞—à–µ LED-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ) ‚Äî —Å–ø–∏—Ç, —ç–∫–æ–Ω–æ–º–∏—Ç —ç–Ω–µ—Ä–≥–∏—é.
     - **Router**: –ê–∫—Ç–∏–≤–Ω–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫.
     - **Border Router**: –°–æ–µ–¥–∏–Ω—è–µ—Ç Thread-—Å–µ—Ç—å —Å Wi-Fi/Ethernet (–¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ø–Ω–¥–µ–∫—Å –∏–ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º).
   - **–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ**: ESP-IDF —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π OpenThread (–æ—Ç–∫—Ä—ã—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Thread). –í esp-matter Thread –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω.
   - **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ**: –î–ª—è Matter over Thread –Ω—É–∂–µ–Ω commissioning —á–µ—Ä–µ–∑ BLE (ESP32-C3 –∏–º–µ–µ—Ç BLE, –Ω–æ –±–µ–∑ 802.15.4 —ç—Ç–æ –Ω–µ–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ).
   - **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞**: Mesh-—Å–µ—Ç—å –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Å–∫–æ–ª—å–∫–∏–º LED) –æ–±—â–∞—Ç—å—Å—è –±–µ–∑ Wi-Fi, —Å –ª—É—á—à–µ–π –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å—é –∏ –Ω–∏–∑–∫–∏–º —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º.

   –ë–µ–∑ 802.15.4 Thread –Ω–∞ ESP32-C3 –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –Ω–∞–ø—Ä—è–º—É—é ‚Äî –ø—Ä–∏–¥—ë—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –∞–ø–ø–∞—Ä–∞—Ç–Ω—É—é —á–∞—Å—Ç—å.

### 2. **–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Thread**
   –í–æ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ü–∏–∏. –†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞—á–∞—Ç—å —Å ESP32-H2, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –Ω–æ–≤—ã–π –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Matter.

   #### –í–∞—Ä–∏–∞–Ω—Ç 1: **–î—Ä—É–≥–æ–π —á–∏–ø ESP32 —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º 802.15.4 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
      - **–ö–∞–∫–æ–π —á–∏–ø?** ESP32-H2 ‚Äî —ç—Ç–æ –Ω–æ–≤—ã–π SoC –æ—Ç Espressif —Å BLE 5.0, IEEE 802.15.4 (–¥–ª—è Thread/Zigbee) –∏ RISC-V –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º. –û–Ω –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è Matter over Thread. (ESP32-C6 —Ç–æ–∂–µ –∏–º–µ–µ—Ç 802.15.4, –Ω–æ –æ–Ω –±–æ–ª—å—à–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ Wi-Fi 6.)
      - **–ü–æ—á–µ–º—É –ª—É—á—à–µ?** –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, –Ω–µ—Ç –Ω—É–∂–¥—ã –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —á–∏–ø–∞—Ö. –ê–Ω–∞–ª–æ–≥–∏—á–µ–Ω ESP32-C3 –ø–æ —Ä–∞–∑–º–µ—Ä—É –∏ —Ü–µ–Ω–µ (–æ–∫–æ–ª–æ 2-5 USD –∑–∞ –º–æ–¥—É–ª—å).
      - **–ß—Ç–æ –∫—É–ø–∏—Ç—å**:
        - DevKit: ESP32-H2-DevKitM-1 (–æ—Ç Espressif –∏–ª–∏ AliExpress, ~10-15 USD).
        - –ú–æ–¥—É–ª—å: ESP32-H2-MINI-1.
      - **–®–∞–≥–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ**:
        1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ESP-IDF v5.1+ (–∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—Ç–≤–µ—Ç–∞—Ö) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ESP32-H2: `./install.sh esp32h2`.
        2. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ esp-matter –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤–∞—à–µ–º—É —Ç–µ–∫—É—â–µ–º—É).
        3. –í `menuconfig`: `Component config > ESP Thread > Enable OpenThread` –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, End Device).
        4. –í –∫–æ–¥–µ: –£–∫–∞–∂–∏—Ç–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∫–∞–∫ Thread –≤ Matter-–∫–æ–Ω—Ñ–∏–≥–µ (esp_matter::config_t).
        5. –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –¥–ª—è ESP32-H2: `idf.py set-target esp32h2 build flash`.
        6. –î–ª—è mesh: –ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 2 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–æ–¥–Ω–æ –∫–∞–∫ Border Router).
      - **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–∞—à–∏–º –∫–æ–¥–æ–º**: –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WS2812 –∏ LED ‚Äî –ø–∏–Ω—ã –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã (GPIO –Ω–∞ ESP32-H2).

   #### –í–∞—Ä–∏–∞–Ω—Ç 2: **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —á–∏–ø (RCP ‚Äî Radio Co-Processor) –∫ –≤–∞—à–µ–º—É ESP32-C3**
      - **–ö–∞–∫–æ–π —á–∏–ø?** –í–Ω–µ—à–Ω–∏–π –º–æ–¥—É–ª—å —Å 802.15.4, –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–π –∫ ESP32-C3 –ø–æ UART/SPI. Espressif —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç:
        - **ESP32-H2** –∏–ª–∏ **ESP32-C6** –∫–∞–∫ RCP (–ø—Ä–æ—à–µ–π—Ç–µ –µ–≥–æ –≤ —Ä–µ–∂–∏–º–µ co-processor).
        - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã: –ú–æ–¥—É–ª–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä:
          - nRF52840 (Nordic) ‚Äî –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –¥–ª—è Thread, ~10 USD.
          - MGM210P (Silicon Labs) ‚Äî –≥–æ—Ç–æ–≤—ã–π Thread-–º–æ–¥—É–ª—å.
          - RCP –æ—Ç Espressif: ESP32 —Å –ø—Ä–æ—à–∏–≤–∫–æ–π OpenThread RCP.
      - **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: 
        - –ö ESP32-C3: UART (TX/RX) –∏–ª–∏ SPI –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏.
        - –ü—Ä–∏–º–µ—Ä: ESP32-C3 (host) + ESP32-H2 (RCP) = Thread Border Router.
      - **–®–∞–≥–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ**:
        1. –ö—É–ø–∏—Ç–µ RCP-–º–æ–¥—É–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, ESP32-H2 devkit).
        2. –ü—Ä–æ—à–µ–π—Ç–µ RCP: –í ESP-IDF –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä `openthread/rcp` ‚Äî —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ª–µ–π—Ç–µ –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —á–∏–ø.
        3. –ù–∞ –æ—Å–Ω–æ–≤–Ω–æ–º ESP32-C3: –í –ø—Ä–æ–µ–∫—Ç–µ –≤–∫–ª—é—á–∏—Ç–µ OpenThread —Å RCP: `menuconfig > ESP Thread > OpenThread Mode > RCP Mode`.
        4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, UART0 –Ω–∞ ESP32-C3 –∫ UART –Ω–∞ RCP).
        5. –í –∫–æ–¥–µ: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å–≤—è–∑—å —Å RCP (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `esp_openthread_init()`).
        6. –î–ª—è Matter: –í esp-matter –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∫–∞–∫ Thread.
        7. –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—Å—è –∫ Thread-—Å–µ—Ç–∏.
      - **–ü—Ä–∏–º–µ—Ä –≥–æ—Ç–æ–≤–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è**: Espressif –∏–º–µ–µ—Ç "ESP Thread Border Router" ‚Äî –∫–æ–º–±–æ –∏–∑ ESP32 (Wi-Fi) + ESP32-H2 (Thread). –ö–æ–¥ –≤ [github.com/espressif/esp-thread-br](https://github.com/espressif/esp-thread-br).

   #### –í–∞—Ä–∏–∞–Ω—Ç 3: **–ì–æ—Ç–æ–≤—ã–π Border Router –¥–ª—è —Ç–µ—Å—Ç–æ–≤**
      - –ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ —Å–æ–±–∏—Ä–∞—Ç—å, –∫—É–ø–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–π Thread Border Router:
        - –û—Ç Google/Nest (Nest Hub –∫–∞–∫ BR).
        - –û—Ç Apple (HomePod).
        - –û—Ç Espressif: ESP32-based BR kit.
      - –í–∞—à–µ ESP32-C3 —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º RCP —Å–º–æ–∂–µ—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ —ç—Ç–æ–π —Å–µ—Ç–∏ –∫–∞–∫ End Device.

### 3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Matter –∏ –Ø–Ω–¥–µ–∫—Å**
   - –í esp-matter Thread –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ —á–∏–ø –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç (–≤ `menuconfig > ESP Matter > Transport > Thread`).
   - –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: Commission —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ Matter over Thread (QR-–∫–æ–¥ –∏–ª–∏ BLE).
   - –î–ª—è –Ø–Ω–¥–µ–∫—Å: –ê–ª–∏—Å–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Matter over Thread (—á–µ—Ä–µ–∑ Border Router). –î–æ–±–∞–≤—å—Ç–µ –≤ "–î–æ–º —Å –ê–ª–∏—Å–æ–π" –∫–∞–∫ Matter-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ. –ï—Å–ª–∏ BR –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ Wi-Fi, –≤—Å—ë –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è seamless.
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ot-ctl` (OpenThread CLI) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç—å—é: `ot-ctl dataset active` –∏ —Ç.–¥.

### 4. **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Å–æ–≤–µ—Ç—ã**
   - **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —á–∏–ø ‚Äî +5-15 USD. ESP32-H2 ‚Äî –¥–µ—à—ë–≤—ã–π upgrade.
   - **–≠–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ**: Thread –ª—É—á—à–µ Wi-Fi –¥–ª—è –±–∞—Ç–∞—Ä–µ–π–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.
   - **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –≤–µ—Ä—Å–∏–∏ ESP-IDF (v5.0+ –¥–ª—è Thread). –û–±–Ω–æ–≤–∏—Ç–µ, –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –æ—Ç–≤–µ—Ç–µ.
   - **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ CSA.
   - **–†–µ—Å—É—Ä—Å—ã**:
     - –î–æ–∫ Espressif –ø–æ Thread: [docs.espressif.com/projects/esp-idf/en/latest/esp32h2/api-reference/protocols/openthread.html](https://docs.espressif.com/projects/esp-idf/en/latest/esp32h2/api-reference/protocols/openthread.html).
     - ESP-Matter —Å Thread: [docs.espressif.com/projects/esp-matter/en/latest/esp32h2/thread.html](https://docs.espressif.com/projects/esp-matter/en/latest/esp32h2/thread.html).
     - OpenThread: [openthread.io](https://openthread.io).
     - –§–æ—Ä—É–º—ã: Espressif –∏–ª–∏ Reddit (r/homeassistant –¥–ª—è Matter/Thread).

–ï—Å–ª–∏ –≤—ã–±–µ—Ä–µ—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, ESP32-H2) –∏–ª–∏ –Ω—É–∂–Ω—ã —Å—Ö–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è/–∫–æ–¥, —É—Ç–æ—á–Ω–∏—Ç–µ! –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –≤–∞—à —É–º–Ω—ã–π –¥–æ–º –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É mesh-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º. üöÄ

### USER
–≤—ã–±–∏—Ä–∞—é ESP32-H2
—ç—Ç–æ–≥–æ –æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ?
–Ω—É–∂–Ω—ã —Å—Ö–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è/–∫–æ–¥


### ASSISTANT
–ö–æ–Ω–µ—á–Ω–æ! –û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä ‚Äî ESP32-H2 –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è Thread (mesh) –≤ Matter, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Ä–∞–¥–∏–æ IEEE 802.15.4 (–¥–ª—è Thread/Zigbee), Bluetooth LE 5.0 –∏ RISC-V –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä. –û–Ω –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π, —ç–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ ESP-IDF –∏ esp-matter. –Ø –æ—Ç–≤–µ—á—É –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ø–æ—Ä—è–¥–∫—É, –¥–∞–º —Å—Ö–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –∫–æ–¥. –≠—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º WS2812 (12 LED) –≤ —É–º–Ω–æ–º –¥–æ–º–µ (Matter + –Ø–Ω–¥–µ–∫—Å).

**–í–∞–∂–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:**
- –≠—Ç–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö/—Ç–µ—Å—Ç–æ–≤—ã—Ö —Ü–µ–ª–µ–π. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –Ω–∏–∑–∫–æ–º –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∑–∏—Å—Ç–æ—Ä—ã –¥–ª—è –∑–∞—â–∏—Ç—ã.
- –î–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –Ω—É–∂–Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Matter/Thread –≤ CSA (Connectivity Standards Alliance).
- –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ESP-IDF v5.1+ –∏ esp-matter (–µ—Å–ª–∏ –Ω–µ—Ç, –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –æ—Ç–≤–µ—Ç–∞–º).

### 1. **–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è ESP32-H2?**
- **–î–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ End Device (–≤–∞—à–µ LED-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ)**: **–î–∞, –æ–¥–Ω–æ–≥–æ ESP32-H2 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ**. –û–Ω –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ Thread-—Å–µ—Ç–∏: –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è—Ç—å—Å—è –∫ mesh, –ø–æ–ª—É—á–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –ø–æ Matter (–≤–∫–ª/–≤—ã–∫–ª, —Ü–≤–µ—Ç, —è—Ä–∫–æ—Å—Ç—å) –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å WS2812. Thread –æ–±–µ—Å–ø–µ—á–∏—Ç mesh-—Å–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –±–µ–∑ Wi-Fi.
  
- **–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π Thread-—Å–µ—Ç–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ø–Ω–¥–µ–∫—Å**: **–ù–µ—Ç, –æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ**. Thread ‚Äî —ç—Ç–æ mesh-—Å–µ—Ç—å, –Ω–æ –µ–π –Ω—É–∂–µ–Ω **Border Router (BR)** –¥–ª—è:
  - –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º/Wi-Fi (–¥–ª—è –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤—Ä–æ–¥–µ –Ø–Ω–¥–µ–∫—Å –ê–ª–∏—Å—ã).
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç—å—é (commissioning, —Ä–æ—É—Ç–∏–Ω–≥).
  - –ë–µ–∑ BR –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ —Å–º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≤–Ω–µ—à–Ω–µ–º—É –º–∏—Ä—É; –æ–Ω–æ –±—É–¥–µ—Ç "–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º" –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π mesh.

  **–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–µ—Ç–∏**:
  - **Border Router**: 
    - –ì–æ—Ç–æ–≤—ã–π: Nest Hub (Google), HomePod (Apple) –∏–ª–∏ Amazon Echo (—Å Thread) ‚Äî –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å BR –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –Ø–Ω–¥–µ–∫—Å —á–µ—Ä–µ–∑ Matter.
    - –°–∞–º–æ–¥–µ–ª—å–Ω—ã–π: Espressif —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –∫–æ–º–±–æ "ESP32-S3 (Wi-Fi) + ESP32-H2 (Thread RCP)". –ö—É–ø–∏—Ç–µ ESP32-S3 DevKit (~10 USD) –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫ ESP32-H2 –ø–æ UART. –ö–æ–¥ –¥–ª—è BR –≤ [github.com/espressif/esp-thread-br](https://github.com/espressif/esp-thread-br).
  - **–î–ª—è —Ç–µ—Å—Ç–∞ mesh**: –ú–∏–Ω–∏–º—É–º 2-3 ESP32-H2 (–æ–¥–∏–Ω –∫–∞–∫ Leader/Router, –¥—Ä—É–≥–∏–µ –∫–∞–∫ End Devices). –ù–æ –±–µ–∑ BR –Ω–µ—Ç –≤—ã—Ö–æ–¥–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.
  - **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ø–Ω–¥–µ–∫—Å**: –° BR —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ "–î–æ–º —Å –ê–ª–∏—Å–æ–π" –∫–∞–∫ Matter-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥). –Ø–Ω–¥–µ–∫—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Matter over Thread.

  **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ù–∞—á–Ω–∏—Ç–µ —Å –æ–¥–Ω–æ–≥–æ ESP32-H2 –∫–∞–∫ End Device. –î–ª—è —Ç–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π BR (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å Nest Hub). –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å BR, —É—Ç–æ—á–Ω–∏—Ç–µ ‚Äî –¥–∞–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

- **–ß—Ç–æ –∫—É–ø–∏—Ç—å –¥–ª—è —Å—Ç–∞—Ä—Ç–∞**:
  - ESP32-H2-DevKitM-1 (devboard —Å USB, ~10-15 USD –Ω–∞ AliExpress/Espressif store).
  - WS2812 –ª–µ–Ω—Ç–∞ (12 LED, ~2 USD).
  - –ü–∏—Ç–∞–Ω–∏–µ: 5V –∞–¥–∞–ø—Ç–µ—Ä (1A+), level shifter (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–ª—è 3.3V -> 5V –¥–∞–Ω–Ω—ã—Ö).

### 2. **–°—Ö–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**
ESP32-H2 –∏–º–µ–µ—Ç GPIO, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ ESP32-C3. –Ø –æ–ø–∏—à—É –ø—Ä–æ—Å—Ç—É—é —Å—Ö–µ–º—É –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è WS2812. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∏–Ω GPIO 8 (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç RMT –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ç–∞–π–º–∏–Ω–≥–∞ WS2812).

#### –ë–∞–∑–æ–≤–∞—è —Å—Ö–µ–º–∞:
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
  - ESP32-H2 (–º–æ–¥—É–ª—å –∏–ª–∏ devkit).
  - WS2812 –ª–µ–Ω—Ç–∞ (12 LED): –ò–º–µ–µ—Ç 4 –ø–∏–Ω–∞ ‚Äî 5V, GND, DIN (data in), DOUT (data out, –µ—Å–ª–∏ —Ü–µ–ø–æ—á–∫–∞).
  - –†–µ–∑–∏—Å—Ç–æ—Ä 330 –û–º (–Ω–∞ data-–ª–∏–Ω–∏–∏ –¥–ª—è –∑–∞—â–∏—Ç—ã).
  - –ö–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä 1000uF (–º–µ–∂–¥—É 5V –∏ GND –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏).
  - –ü–∏—Ç–∞–Ω–∏–µ: –í–Ω–µ—à–Ω–∏–π 5V –∏—Å—Ç–æ—á–Ω–∏–∫ (ESP32-H2 –¥–∞—ë—Ç 3.3V, –Ω–æ WS2812 —Ç—Ä–µ–±—É–µ—Ç 5V; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—â–∏–π GND).

#### –¢–µ–∫—Å—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (ASCII-art):
```
[–í–Ω–µ—à–Ω–∏–π 5V –ê–¥–∞–ø—Ç–µ—Ä] --- +5V --- [–ö–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä 1000uF] --- +5V (WS2812)
                       |                                 |
                       GND ------------------------------ GND (WS2812) --- GND (ESP32-H2)

ESP32-H2 (GPIO 8) --- [–†–µ–∑–∏—Å—Ç–æ—Ä 330 –û–º] --- DIN (WS2812 –ª–µ–Ω—Ç–∞)

USB (–¥–ª—è –ø–∏—Ç–∞–Ω–∏—è/–ø—Ä–æ—à–∏–≤–∫–∏ ESP32-H2) --- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫ –ü–ö.
```

#### –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:
- **–ü–∏—Ç–∞–Ω–∏–µ**: –ù–µ –ø–∏—Ç–∞–π—Ç–µ WS2812 –æ—Ç ESP32-H2 (–æ–Ω 3.3V, —Å–ª–∞–±—ã–π —Ç–æ–∫). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω–∏–π 5V (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç USB-–∞–¥–∞–ø—Ç–µ—Ä–∞). –û–±—â–∏–π GND –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.
- **Level Shifter**: –ï—Å–ª–∏ WS2812 —Å—Ç—Ä–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç 5V –Ω–∞ data (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ 3.3V), –¥–æ–±–∞–≤—å—Ç–µ level shifter (–Ω–∞–ø—Ä–∏–º–µ—Ä, 74HC245) –º–µ–∂–¥—É GPIO 8 (3.3V) –∏ DIN (5V).
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è Thread**: –ù–∏—á–µ–≥–æ ‚Äî —Ä–∞–¥–∏–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ. –î–ª—è BR –ø–æ–¥–∫–ª—é—á–∏—Ç–µ UART (GPIO 0/1) –∫ –¥—Ä—É–≥–æ–º—É —á–∏–ø—É.
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è**: –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Fritzing –∏–ª–∏ KiCad –¥–ª—è –ø–æ–ª–Ω–æ–π —Å—Ö–µ–º—ã. –§–æ—Ç–æ/–ø—Ä–∏–º–µ—Ä—ã –≤ –¥–æ–∫–∞—Ö Espressif.

### 3. **–ö–æ–¥ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**
–ê–¥–∞–ø—Ç–∏—Ä—É–µ–º –≤–∞—à –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø—Ä–æ–µ–∫—Ç (Matter light —Å WS2812) –¥–ª—è ESP32-H2 –∏ Thread. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä "light" –∏–∑ esp-matter.

#### –®–∞–≥–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:
1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É ESP32-H2**:
   - –í ESP-IDF: `./install.sh esp32h2`
   - –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ: `. ./export.sh`

2. **–°–æ–∑–¥–∞–π—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç**:
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä: `cp -r esp-matter/examples/light my-h2-light`
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ: `cd my-h2-light`
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ü–µ–ª—å: `idf.py set-target esp32h2`

3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (idf.py menuconfig)**:
   - `SDK tool configuration > Target chip > esp32h2`
   - `Component config > ESP Matter > Enable Matter`
   - `ESP Matter > Transport Layer > Thread` (–≤–∫–ª—é—á–∏—Ç–µ –¥–ª—è Matter over Thread).
   - `Component config > ESP Thread > Enable OpenThread` (—Ä–æ–ª—å: Minimal End Device –¥–ª—è –≤–∞—à–µ–≥–æ LED).
   - `Component config > Driver configurations > RMT > Enable RMT` (–¥–ª—è WS2812).
   - `ESP Matter > Supported Clusters`: –í–∫–ª—é—á–∏—Ç–µ OnOff, Level Control, Color Control –¥–ª—è RGB-—Å–≤–µ—Ç–∞.
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ.

4. **–ö–æ–¥**:
   - **app_driver.c** (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WS2812, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å Matter):
     ```c
     #include <stdio.h>
     #include "driver/gpio.h"
     #include "driver/rmt_tx.h"
     #include "led_strip.h"
     #include "esp_log.h"
     #include "esp_matter.h"  // –î–ª—è callbacks

     static const char *TAG = "WS2812_Driver";

     #define LED_STRIP_GPIO GPIO_NUM_8  // –ü–∏–Ω –Ω–∞ ESP32-H2
     #define LED_STRIP_LENGTH 12
     #define LED_STRIP_BRIGHTNESS 255

     static led_strip_handle_t led_strip;
     static uint8_t current_r = 255, current_g = 255, current_b = 255;  // –¢–µ–∫—É—â–∏–π —Ü–≤–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–µ–ª—ã–π)

     void init_ws2812(void) {
         led_strip_config_t strip_config = {
             .strip_gpio_num = LED_STRIP_GPIO,
             .led_pixel_format = LED_PIXEL_FORMAT_GRB,
             .led_model = LED_MODEL_WS2812,
             .max_leds = LED_STRIP_LENGTH,
             .flags.invert_out = false,
         };
         led_strip_rmt_config_t rmt_config = {
             .clk_src = RMT_CLK_SRC_DEFAULT,
             .resolution_hz = 10 * 1000 * 1000,
             .flags.with_dma = false,
         };
         ESP_ERROR_CHECK(led_strip_new_rmt_device(&strip_config, &rmt_config, &led_strip));
         led_strip_clear(led_strip);
         ESP_LOGI(TAG, "WS2812 initialized on ESP32-H2");
     }

     void set_ws2812_color(uint8_t r, uint8_t g, uint8_t b, uint8_t brightness) {
         uint8_t scaled_r = (r * brightness) / 255;
         uint8_t scaled_g = (g * brightness) / 255;
         uint8_t scaled_b = (b * brightness) / 255;
         for (int i = 0; i < LED_STRIP_LENGTH; i++) {
             led_strip_set_pixel(led_strip, i, scaled_r, scaled_g, scaled_b);
         }
         led_strip_refresh(led_strip);
         current_r = r; current_g = g; current_b = b;  // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–≤–µ—Ç
     }

     void turn_off_ws2812(void) {
         led_strip_clear(led_strip);
     }

     // Matter callbacks (–¥–æ–±–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä app_driver.cpp)
     esp_err_t handle_onoff(bool on) {
         if (on) set_ws2812_color(current_r, current_g, current_b, LED_STRIP_BRIGHTNESS);
         else turn_off_ws2812();
         return ESP_OK;
     }

     esp_err_t handle_level(uint8_t level) {
         set_ws2812_color(current_r, current_g, current_b, level);
         return ESP_OK;
     }

     esp_err_t handle_color(uint16_t hue, uint8_t saturation) {
         // –ü—Ä–æ—Å—Ç–∞—è HSV to RGB (–¥–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é; —ç—Ç–æ —É–ø—Ä–æ—â—ë–Ω–Ω–æ)
         uint8_t r = (hue % 256);  // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –∫–æ–Ω–≤–µ—Ä—Å–∏—é
         uint8_t g = saturation;
         uint8_t b = 255 - r;
         set_ws2812_color(r, g, b, LED_STRIP_BRIGHTNESS);
         return ESP_OK;
     }
     ```

   - **app_main.c** (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è):
     ```c
     #include "esp_matter.h"
     #include "app_driver.h"  // –í–∞—à —Ñ–∞–π–ª —Å WS2812

     void app_main(void) {
         init_ws2812();

         // Matter config –¥–ª—è Extended Color Light over Thread
         esp_matter::start();  // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö
         // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ callbacks: esp_matter::cluster::on_off::set_callbacks(handle_onoff, etc.)
     }
     ```

   - **CMakeLists.txt** (–≤ main): –î–æ–±–∞–≤—å—Ç–µ `REQUIRES led_strip esp_matter`.

5. **–°–±–æ—Ä–∫–∞ –∏ –ø—Ä–æ—à–∏–≤–∫–∞**:
   - `idf.py build flash monitor`
   - –í –ª–æ–≥–∞—Ö: –ò—â–∏—Ç–µ "OpenThread started" –∏ QR-–∫–æ–¥ –¥–ª—è commissioning.

6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - Commission –≤ Matter: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ chip-tool –∏–ª–∏ app (Google Home/–Ø–Ω–¥–µ–∫—Å).
   - –ö–æ–º–∞–Ω–¥—ã: `chip-tool onoff on <node-id> 1`
   - –î–ª—è Thread: `ot-ctl state` –≤ CLI (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ).

### 4. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã**
- **HSV to RGB**: –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é (–Ω–∞–π–¥–∏—Ç–µ –≤ GitHub, –Ω–∞–ø—Ä–∏–º–µ—Ä –∏–∑ Arduino libs).
- **–û—à–∏–±–∫–∏**: –ï—Å–ª–∏ Thread –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥ (–Ω—É–∂–µ–Ω dataset –¥–ª—è —Å–µ—Ç–∏). –õ–æ–≥–∏ –ø–æ–º–æ–≥—É—Ç.
- **–†–µ—Å—É—Ä—Å—ã**:
  - –î–æ–∫ ESP32-H2: [docs.espressif.com/projects/esp-idf/en/latest/esp32h2](https://docs.espressif.com/projects/esp-idf/en/latest/esp32h2).
  - Matter over Thread: [docs.espressif.com/projects/esp-matter/en/latest/esp32h2/thread.html](https://docs.espressif.com/projects/esp-matter/en/latest/esp32h2/thread.html).
  - –°—Ö–µ–º—ã: [espressif.com/en/products/socs/esp32-h2](https://www.espressif.com/en/products/socs/esp32-h2) (pinout).

–ï—Å–ª–∏ –Ω—É–∂–Ω—ã –¥–µ—Ç–∞–ª–∏ –ø–æ BR, –ø–æ–ª–Ω–∞—è HSV-—Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ –ø–æ–º–æ—â—å —Å –æ—à–∏–±–∫–∞–º–∏, —É—Ç–æ—á–Ω–∏—Ç–µ! –£–¥–∞—á–∏ —Å ESP32-H2 ‚Äî —ç—Ç–æ —à–∞–≥ –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–º—É mesh-—É–º–Ω–æ–º—É –¥–æ–º—É. üöÄ